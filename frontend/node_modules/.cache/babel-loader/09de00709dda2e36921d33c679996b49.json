{"ast":null,"code":"var _jsxFileName = \"/Users/mohamedhosam/Documents/GradProject/UniFreelance/frontend/src/components/admin/AdminDashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { deleteAdminJob, deleteAdminUser, getAdminJobs, getAdminUsers, getInterviews } from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = () => {\n  _s();\n  const [interviews, setInterviews] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [jobs, setJobs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchInterviews = async () => {\n      try {\n        const [interviewsResponse, usersResponse, jobsResponse] = await Promise.all([getInterviews(), getAdminUsers(), getAdminJobs()]);\n        setInterviews(interviewsResponse);\n        setUsers(usersResponse);\n        setJobs(jobsResponse);\n      } catch (error) {\n        console.error('Error fetching interviews:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchInterviews();\n  }, []);\n  const handleDeleteUser = async userId => {\n    try {\n      await deleteAdminUser(userId);\n      setUsers(prev => prev.filter(user => user._id !== userId));\n    } catch (error) {\n      console.error('Error deleting user:', error);\n    }\n  };\n  const handleDeleteJob = async jobId => {\n    try {\n      await deleteAdminJob(jobId);\n      setJobs(prev => prev.filter(job => job._id !== jobId));\n    } catch (error) {\n      console.error('Error deleting job:', error);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Admin Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Submitted Interviews\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), interviews.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No interviews pending review.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: interviews.map(interview => {\n        var _interview$studentId, _interview$skillId;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Student: \", ((_interview$studentId = interview.studentId) === null || _interview$studentId === void 0 ? void 0 : _interview$studentId.name) || interview.studentId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Skill: \", ((_interview$skillId = interview.skillId) === null || _interview$skillId === void 0 ? void 0 : _interview$skillId.name) || interview.skillId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/admin/review-interview/${interview._id}`,\n            children: \"Review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this)]\n        }, interview._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), users.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No users found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: users.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [user.name, \" (\", user.role, \") - \", user.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => handleDeleteUser(user._id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 29\n        }, this)]\n      }, user._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Jobs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), jobs.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No jobs found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: jobs.map(job => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [job.title, \" - Status: \", job.status]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => handleDeleteJob(job._id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 29\n        }, this)]\n      }, job._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n_s(AdminDashboard, \"m7FyEuFRWMUaOs9CwFmCEdgb3fk=\");\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useEffect","useState","Link","deleteAdminJob","deleteAdminUser","getAdminJobs","getAdminUsers","getInterviews","jsxDEV","_jsxDEV","AdminDashboard","_s","interviews","setInterviews","users","setUsers","jobs","setJobs","loading","setLoading","fetchInterviews","interviewsResponse","usersResponse","jobsResponse","Promise","all","error","console","handleDeleteUser","userId","prev","filter","user","_id","handleDeleteJob","jobId","job","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","interview","_interview$studentId","_interview$skillId","studentId","name","skillId","to","role","email","type","onClick","title","status","_c","$RefreshReg$"],"sources":["/Users/mohamedhosam/Documents/GradProject/UniFreelance/frontend/src/components/admin/AdminDashboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { deleteAdminJob, deleteAdminUser, getAdminJobs, getAdminUsers, getInterviews } from '../../services/api';\nimport { Interview } from '../../types';\n\nconst AdminDashboard: React.FC = () => {\n    const [interviews, setInterviews] = useState<Interview[]>([]);\n    const [users, setUsers] = useState<any[]>([]);\n    const [jobs, setJobs] = useState<any[]>([]);\n    const [loading, setLoading] = useState<boolean>(true);\n\n    useEffect(() => {\n        const fetchInterviews = async () => {\n            try {\n                const [interviewsResponse, usersResponse, jobsResponse] = await Promise.all([\n                    getInterviews(),\n                    getAdminUsers(),\n                    getAdminJobs(),\n                ]);\n                setInterviews(interviewsResponse);\n                setUsers(usersResponse);\n                setJobs(jobsResponse);\n            } catch (error) {\n                console.error('Error fetching interviews:', error);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchInterviews();\n    }, []);\n\n    const handleDeleteUser = async (userId: string) => {\n        try {\n            await deleteAdminUser(userId);\n            setUsers((prev) => prev.filter((user) => user._id !== userId));\n        } catch (error) {\n            console.error('Error deleting user:', error);\n        }\n    };\n\n    const handleDeleteJob = async (jobId: string) => {\n        try {\n            await deleteAdminJob(jobId);\n            setJobs((prev) => prev.filter((job) => job._id !== jobId));\n        } catch (error) {\n            console.error('Error deleting job:', error);\n        }\n    };\n\n    if (loading) {\n        return <div>Loading...</div>;\n    }\n\n    return (\n        <div>\n            <h1>Admin Dashboard</h1>\n            <h2>Submitted Interviews</h2>\n            {interviews.length === 0 ? (\n                <p>No interviews pending review.</p>\n            ) : (\n                <ul>\n                    {interviews.map((interview: any) => (\n                        <li key={interview._id}>\n                            <p>Student: {interview.studentId?.name || interview.studentId}</p>\n                            <p>Skill: {interview.skillId?.name || interview.skillId}</p>\n                            <Link to={`/admin/review-interview/${interview._id}`}>Review</Link>\n                        </li>\n                    ))}\n                </ul>\n            )}\n            <h2>Users</h2>\n            {users.length === 0 ? (\n                <p>No users found.</p>\n            ) : (\n                <ul>\n                    {users.map((user) => (\n                        <li key={user._id}>\n                            <p>{user.name} ({user.role}) - {user.email}</p>\n                            <button type=\"button\" onClick={() => handleDeleteUser(user._id)}>Delete</button>\n                        </li>\n                    ))}\n                </ul>\n            )}\n            <h2>Jobs</h2>\n            {jobs.length === 0 ? (\n                <p>No jobs found.</p>\n            ) : (\n                <ul>\n                    {jobs.map((job) => (\n                        <li key={job._id}>\n                            <p>{job.title} - Status: {job.status}</p>\n                            <button type=\"button\" onClick={() => handleDeleteJob(job._id)}>Delete</button>\n                        </li>\n                    ))}\n                </ul>\n            )}\n        </div>\n    );\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}