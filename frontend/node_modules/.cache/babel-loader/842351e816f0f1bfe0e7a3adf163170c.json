{"ast":null,"code":"var _jsxFileName = \"/Users/mohamedhosam/Documents/GradProject/UniFreelance/frontend/src/components/student/JobList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { fetchJobs, submitProposal } from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JobList = () => {\n  _s();\n  const [jobs, setJobs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [proposalDetails, setProposalDetails] = useState({});\n  useEffect(() => {\n    const getJobs = async () => {\n      try {\n        const jobData = await fetchJobs();\n        setJobs(jobData);\n      } catch (err) {\n        setError('Failed to fetch jobs. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    getJobs();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading jobs...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 16\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 16\n    }, this);\n  }\n  const handleSubmitProposal = async jobId => {\n    const details = proposalDetails[jobId];\n    if (!details) {\n      setError('Please enter proposal details.');\n      return;\n    }\n    try {\n      await submitProposal(jobId, {\n        details\n      });\n      setProposalDetails(prev => ({\n        ...prev,\n        [jobId]: ''\n      }));\n      setError(null);\n      alert('Proposal submitted!');\n    } catch (err) {\n      setError('Failed to submit proposal.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Available Jobs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: jobs.map(job => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: job.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: job.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Required Skills:\", ' ', job.requiredSkills.map(skill => skill.name || skill).join(', ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: `proposal-${job._id || job.id}`,\n            children: \"Proposal Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: `proposal-${job._id || job.id}`,\n            value: proposalDetails[job._id || job.id] || '',\n            onChange: e => setProposalDetails(prev => ({\n              ...prev,\n              [job._id || job.id]: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => handleSubmitProposal(job._id || job.id),\n            children: \"Submit Proposal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this)]\n      }, job._id || job.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_s(JobList, \"UT1YRoyo0lFdDxKqtwCtVdkMbOU=\");\n_c = JobList;\nexport default JobList;\nvar _c;\n$RefreshReg$(_c, \"JobList\");","map":{"version":3,"names":["React","useEffect","useState","fetchJobs","submitProposal","jsxDEV","_jsxDEV","JobList","_s","jobs","setJobs","loading","setLoading","error","setError","proposalDetails","setProposalDetails","getJobs","jobData","err","children","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmitProposal","jobId","details","prev","alert","map","job","title","description","requiredSkills","skill","name","join","htmlFor","_id","id","value","onChange","e","target","type","onClick","_c","$RefreshReg$"],"sources":["/Users/mohamedhosam/Documents/GradProject/UniFreelance/frontend/src/components/student/JobList.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Job } from '../../types';\nimport { fetchJobs, submitProposal } from '../../services/api';\n\nconst JobList: React.FC = () => {\n    const [jobs, setJobs] = useState<Job[]>([]);\n    const [loading, setLoading] = useState<boolean>(true);\n    const [error, setError] = useState<string | null>(null);\n    const [proposalDetails, setProposalDetails] = useState<Record<string, string>>({});\n\n    useEffect(() => {\n        const getJobs = async () => {\n            try {\n                const jobData = await fetchJobs();\n                setJobs(jobData);\n            } catch (err) {\n                setError('Failed to fetch jobs. Please try again later.');\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        getJobs();\n    }, []);\n\n    if (loading) {\n        return <div>Loading jobs...</div>;\n    }\n\n    if (error) {\n        return <div>{error}</div>;\n    }\n\n    const handleSubmitProposal = async (jobId: string) => {\n        const details = proposalDetails[jobId];\n        if (!details) {\n            setError('Please enter proposal details.');\n            return;\n        }\n        try {\n            await submitProposal(jobId, { details });\n            setProposalDetails((prev) => ({ ...prev, [jobId]: '' }));\n            setError(null);\n            alert('Proposal submitted!');\n        } catch (err) {\n            setError('Failed to submit proposal.');\n        }\n    };\n\n    return (\n        <div>\n            <h2>Available Jobs</h2>\n            <ul>\n                {jobs.map((job: any) => (\n                    <li key={job._id || job.id}>\n                        <h3>{job.title}</h3>\n                        <p>{job.description}</p>\n                        <p>\n                            Required Skills:{' '}\n                            {job.requiredSkills\n                                .map((skill: any) => skill.name || skill)\n                                .join(', ')}\n                        </p>\n                        <div>\n                            <label htmlFor={`proposal-${job._id || job.id}`}>Proposal Details</label>\n                            <textarea\n                                id={`proposal-${job._id || job.id}`}\n                                value={proposalDetails[job._id || job.id] || ''}\n                                onChange={(e) =>\n                                    setProposalDetails((prev) => ({\n                                        ...prev,\n                                        [job._id || job.id]: e.target.value,\n                                    }))\n                                }\n                            />\n                            <button type=\"button\" onClick={() => handleSubmitProposal(job._id || job.id)}>\n                                Submit Proposal\n                            </button>\n                        </div>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nexport default JobList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}